{{>layout/header}}
<!-- 바디 start -->
<div class="div-card-container">
    <div class="card div-card">
        {{#boardDetail}}
            <div class="card-header card-title">
                <h3>{{title}}</h3>
            </div>
            <div class="card-body" style="margin-left: 5%; margin-right: 5%">
                <h4 class="card-title">조건</h4>
                <table class="table">
                    <tr>
                        <td>근무 지역</td>
                        <td>{{address}}</td>
                    </tr>
                    <tr>
                        <td>채용 분야</td>
                        <td>{{field}}</td>
                    </tr>
                    <tr>
                        <td>포지션</td>
                        <td>{{position}}</td>
                    </tr>
                    <tr>
                        <td>연봉</td>
                        <td>{{salary}}</td>
                    </tr>
                </table>
                <h4 class="card-title">우대 스킬</h4>
                <div class="form-control mb-3">
                    {{#skillList}}
                        <btn class="btn btn-light">{{skillName}}</btn>
                    {{/skillList}}
                    {{^skillList}}
                        <btn class="btn btn-outline-light form-control">없음</btn>
                    {{/skillList}}
                </div>
                <h4 class="card-title">상세 내용</h4>
                <div class="form-control mb-3" style="height: 300px">{{content}}</div>
                <h4 class="card-title">연락처</h4>
                <table class="table">
                    <tr>
                        <td>전화</td>
                        <td>{{phoneNumber}}</td>
                    </tr>
                    <tr>
                        <td>이메일</td>
                        <td>{{email}}</td>
                    </tr>
                </table>
            </div>
            <div class="card-footer">
                <table class="table table-borderless">
                    <tr>
                        <td style="background-color: transparent; text-align: end">게시일</td>
                        <td style="background-color: transparent">{{openingDate}}</td>
                        <td style="background-color: transparent; text-align: end">마감일</td>
                        <td style="background-color: transparent">{{closingDate}}</td>
                    </tr>
                </table>
            </div>
        {{/boardDetail}}
    </div>
    <div class="sidenav-container">
        <div class="sidenav">
            <div class="card" style="width:200px">
                <div class="card-body" style="padding-left: 0; padding-right: 0">
                    <div class="card-title">
                        {{#rating}}
                            <table class="table">
                                <tr>
                                    <td style="text-align: end; padding-bottom: 0; padding-top: 0">평점 ⭐</td>
                                    <td style="text-align: start; padding-bottom: 0; padding-top: 0">{{rating}}</td>
                                </tr>
                            </table>
                        {{/rating}}
                    </div>
                    {{#pic}}
                        <img class="card-img-top" src="/upload/{{imgFilename}}" style="width:100%">
                    {{/pic}}
                    {{^pic}}
                        <img class="card-img-top" src="../images/{{boardDetail.businessName}}.jpg"
                             onerror="this.onerror=null; this.src='../images/chaeyong.jpg';" style="width:100%">
                    {{/pic}}
                    <h4 class="card-title text-center">{{boardDetail.businessName}}</h4>
                </div>
                <div class="card-footer" style="text-align: center;">
                    <div>
                        {{#sessionUser}}
                            {{^isEmployer}}
                                <!-- 지원하기 버튼 -->
                                <form action="/board/{{boardDetail.id}}/applyForm" method="get">
                                    <!--todo 지원시 사라지게-->
                                    <button class="btn btn-primary">지원</button>
                                </form>
                                <!-- 구독하기 버튼 -->
                                {{^subscribe}}
                                    <form action="/board/{{boardDetail.id}}/subscribe" method="post">
                                        <button class="btn btn-success">구독</button>
                                    </form>
                                {{/subscribe}}
                                {{#subscribe}}
                                    <form action="/board/{{boardDetail.id}}/unsubscribe" method="post">
                                        <button class="btn btn-danger">구독 취소</button>
                                    </form>
                                {{/subscribe}}
                            {{/isEmployer}}
                        {{/sessionUser}}
                        {{^sessionUser}}
                            <form action="/loginForm" method="get">
                                <button class="btn btn-primary">지원</button>
                            </form>
                        {{/sessionUser}}
                    </div>
                    <!-- 수정 삭제 버튼 -->
                    <div class="btn-container">
                        {{#boardDetail.boardOwner}}
                            <form action="/board/{{boardDetail.id}}/updateForm" method="get">
                                <button class="btn btn-warning">수정</button>
                            </form>
                            <form action="/board/{{boardDetail.id}}/delete" method="post">
                                <button class="btn btn-danger">삭제</button>
                            </form>
                        {{/boardDetail.boardOwner}}
                    </div>
                    <!-- 평가 버튼 -->
                    {{#sessionUser}}
                        {{^isEmployer}}
                            {{^hasRated}}
                                <form action="/board/{{boardDetail.id}}/rate" method="post">
                                    <div class="card-footer">
                                        <select name="rate" style="width: 100%">
                                            <option value="1">1점</option>
                                            <option value="2">2점</option>
                                            <option value="3">3점</option>
                                            <option value="4">4점</option>
                                            <option value="5">5점</option>
                                        </select>
                                        <div align="right">
                                            <button class="btn btn-primary btn-sm" style="width: 100%; margin-top: 5px">
                                                평가하기
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            {{/hasRated}}
                        {{/isEmployer}}
                    {{/sessionUser}}
                </div>
            </div>
        </div>
    </div>
</div>
<!-- 바디 end -->
{{>layout/footer}}